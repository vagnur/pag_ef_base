{% extends "base_generic.html" %}

{% block content %}
<div class="container">
    <h2 class="text-center my-4">Crear Nueva Entrada</h2>

    <!-- Mostrar los mensajes de éxito -->
    {% if messages %}
        <div id="success-message" class="alert alert-success fade-out" role="alert">
            {% for message in messages %}
                <p>{{ message }}</p>
            {% endfor %}
        </div>

        <!-- JavaScript para aplicar la animación de desvanecimiento -->
        <script>
            setTimeout(function() {
                const successMessage = document.getElementById('success-message');
                if (successMessage) {
                    successMessage.classList.add('fade');  // Aplicar la clase fade
                }
            }, 5000);  // 5000 milisegundos = 5 segundos
        </script>
    {% endif %}

    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        
        <!-- Campo para la sección -->
        <div class="form-group">
            <label for="seccion">Selecciona la sección</label>
            {{ form.seccion }}
        </div>
        
        <!-- Campo para el nombre -->
        <div class="form-group">
            <label for="nombre">Nombre</label>
            {{ form.nombre }}  <!-- Mostrar el campo de nombre -->
        </div>

        <!-- Campo para la imagen -->
        <div class="form-group">
            <label for="imagen">Imagen</label>
            {{ form.imagen }}
        </div>

        <!-- Campo para el resumen -->
        <div class="form-group">
            <label for="resumen">Resumen corto</label>
            {{ form.resumen }}
        </div>

        <!-- Campo para la descripción larga -->
        <div class="form-group">
            <label for="descripcion">Descripción larga</label>
            {{ form.descripcion }}
        </div>

        <button type="submit" class="btn btn-primary">Crear Entrada</button>
    </form>
</div>
{% endblock %}

{% block extra_css %}
<style>
    /* Agregar la animación de desvanecimiento */
    .fade-out {
        opacity: 1;
        visibility: visible;
        transition: opacity 6s ease-in-out, visibility 0s linear 6s;  /* 6 segundos para desvanecerse, visibility al final */
    }

    .fade {
        opacity: 0;
        visibility: hidden;  /* Ocultar el mensaje después de desvanecerse */
    }
</style>
{% endblock %}

